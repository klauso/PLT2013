# Exercise 6

## Presentation

## Continuations

Given the arithmetic expression `(1 + 2) - x`, assume a _call-by-value_,
_left-to-right_ evaluation order, we can identify 7 continuations during the
evaluation of the expression (at the top level).  They are the continuation

1. `[]` awaiting the value of `(1 + 2) - x`
2. `[(1 + 2) [] x]` awaiting the value of `-`
3. `[[] - x]` awaiting the value of `1 + 2`
4. `[(1 [] 2) - x]` awaiting the value of `+`
5. `[([] + 2) - x]` awaiting the value of `1`
6. `[(1 + []) - x]` awaiting the value of `2`
7. `[3 - []]` awaiting the value of `x`

## Tail Calls

### Definitions

#### Tail Position

An expression `e1` is in _tail position_ with respect to an enclosing
expression `e2` if the continuation of `e1` is the same as that of `e2`.

For example, the expression `n` is _not_ in tail position in the `then`-branch
but in tail position in the `else`-branch of expression `if (n < 0) then (- n)
else n`

#### Tail Call

A function call occurs in tail position is a _tail call_.  For example, in the
following Haskell code, the recursive call of `fac` does _not_ occur in tail
position, hence _not_ a tail call; whereas the recursive call of `fact` _does_
occur in tail position, hence a tail call.

```haskell
fac 0 = 1
fac n = n * fac (n - 1)

fact f 0 = f
fact f n = fact (f * n) (n - 1)
```

